---
import BaseLayout from 'src/layouts/BaseLayout.astro';
import CTA from '@components/CTA.astro';
import Landing from '@components/Landing.astro';
import FAQ from '@components/FAQ.astro';

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import { getOptimizedImage } from '@js/utils';
import landingImage from '@assets/images/landing.jpg'; // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import WhyChooseUs from '@components/why-choose-us.astro';
const optimizedImage = await getOptimizedImage(landingImage);

type Role = 'Owner/Founder RMT' | 'Therapist';

interface TeamMember {
  role: Role;
  occupation: string; // e.g., 'Licensed Massage Therapist'
  since: string; // e.g., 'Since 2019'
  where?: string; // optional, e.g., 'Alberta, Canada' or 'BSPT, Philippines'
  name: string;
  bio: string;
}

// Data: owner/founder first in array (we’ll render owners first anyway)
const team: TeamMember[] = [
  {
    role: 'Owner/Founder RMT',
    occupation: 'Licensed Massage Therapist',
    since: 'Since 2019',
    where: 'RMT, Alberta',
    name: '',
    bio: 'Clinic founder and registered massage therapist with a restorative approach. Cecilia blends deep tissue and relaxation techniques to relieve pain, ease tension, and support lasting well‑being.',
  },
  {
    role: 'Therapist',
    occupation: 'Licensed Massage Therapist',
    since: 'Since 2024',
    where: 'RMT, Alberta',
    name: '',
    bio: ' provides attentive, client‑centered care—combining firm, focused work with a calming touch to reduce stress and help your body move with ease.',
  },
  {
    role: 'Therapist',
    occupation: 'Licensed Massage Therapist',
    since: 'Since 2025',
    where: 'RMT, Alberta',
    name: '',
    bio: ' creates a comfortable, relaxing environment while addressing specific concerns. Her thoughtful pressure and technique help release tension and restore balance.',
  },
];

// Helpers to keep Owner/Founder at the top
const owners = team.filter((m) => m.role === 'Owner/Founder RMT');
const therapists = team.filter((m) => m.role === 'Therapist');
const orderedTeam = [...owners, ...therapists];
---

<BaseLayout
  preloadedImage={optimizedImage}
>
  <!-- ============================================ -->
  <!--                    LANDING                   -->
  <!-- ============================================ -->

  <!-- <Landing title="About Us" image={optimizedImage} /> -->

<section class="bg-orange-50">
  <div class="mx-auto max-w-6xl px-6 py-16 md:py-20">
    <div class="mx-auto max-w-3xl text-center">
      <h2 class="font-serif text-3xl md:text-5xl text-gray-950">
        Meet Our Expert Therapists
      </h2>
      <p class="mt-4 text-gray-700 leading-7">
        Our team at iMassage Therapeutic Clinique is dedicated to thoughtful,
        results‑focused massage care. We tailor every session to your goals so
        you can leave lighter, looser, and genuinely restored.
      </p>
    </div>

    <!-- Cards -->
    <div
      class="mt-12 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 lg:gap-8"
    >
      {
        orderedTeam.map((m) => (
          <article
            class="rounded-lg bg-orange-200/90 p-6 shadow-sm ring-1 ring-black/5"
          >
            <!-- Role badge -->
            <div class="mb-3">
              <span
                class:list={[
                  'inline-block rounded-full px-3 py-1 text-xs font-semibold tracking-wide',
                  m.role === 'Owner/Founder RMT'
                    ? 'bg-emerald-900 text-emerald-50'
                    : 'bg-emerald-200 text-emerald-900',
                ]}
              >
                {m.role}
              </span>
            </div>

            <div class="space-y-2">
              <p class="text-sm text-gray-700">{m.occupation}</p>
              <p class="text-xs text-gray-700">
                {m.since}{m.where ? ' • ' + m.where : ''}
              </p>
              <h3 class="text-gray-900 font-semibold">{m.name}</h3>
            </div>

            <p class="mt-4 text-sm leading-6 text-gray-800">
              {m.bio}
            </p>
          </article>
        ))
      }
    </div>
  </div>
</section>

  <!-- ============================================ -->
  <!--                 Side By Side                 -->
  <!-- ============================================ -->

  <!-- <section id="sbs">
    <div class="cs-container">
      <div class="cs-left">
        <picture class="cs-picture cs-picture1">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/cabinets2-m.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/cabinets2.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/cabinets2.jpg"
            alt="cabinets"
            loading="lazy"
            width="400"
            height="563"
          />
        </picture>
        <picture class="cs-picture cs-picture2">
          <source
            media="(max-width: 600px)"
            srcset="/assets/images/construction-m.jpg"
          />
          <source
            media="(min-width: 601px)"
            srcset="/assets/images/construction.jpg"
          />
          <img
            aria-hidden="true"
            decoding="async"
            src="/assets/images/construction.jpg"
            alt="house"
            loading="lazy"
            width="400"
            height="563"
          />
        </picture>
      </div>
      <div class="cs-right">
        <span class="cs-topper">About Us</span>
        <h2 class="cs-title">Healing Touch Massage Therapy</h2>
        <p class="cs-text">
          At Healing Touch Massage Therapy, we are dedicated to providing
          therapeutic massage services that promote relaxation, reduce pain, and
          improve overall wellness. Whether you're dealing with muscle tension,
          stress, or simply need a moment of relaxation, our skilled therapists
          are here to help you feel your best.
        </p>
        <p class="cs-text">
          With years of experience, we pride ourselves on creating a calming
          environment where you can unwind and experience the therapeutic
          benefits of massage. From Swedish and deep tissue massages to hot
          stone therapy, we offer a range of services tailored to your
          individual needs.
        </p>
        <div class="cs-flex-group">
          <p class="cs-flex-p">
            We believe in a personalized approach to each session. Our
            therapists work with you to understand your unique concerns,
            ensuring that every massage is focused on your health and
            relaxation.
          </p>
          <span class="cs-name">Sarah Thompson</span>
          <span class="cs-job">Founder & Lead Therapist</span>
          <img
            class="cs-quote-icon"
            loading="lazy"
            decoding="async"
            src="https://csimg.nyc3.digitaloceanspaces.com/SideBySide/quote-white.svg"
            alt="quote"
            width="136"
            height="77"
          />
        </div>
        <a href="/services" class="cs-button-solid">Our Services</a>
      </div>
    </div>
  </section> -->
  <!-- <FAQ /> -->
  <CTA title='Relief for Your Body, Calm for Your Mind' description='Personalized care that eases pain and restores well‑being.' />
<WhyChooseUs/>
</BaseLayout>

<style lang="less">
  /* PAGE-SPECIFIC STYLES FOR THE ABOUT PAGE */

  /*-- -------------------------- -->
<---       Side By Side         -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #sbs {
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1280/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        row-gap: (40/16rem);
      }

      .cs-left {
        /* scaling the font size with the view width */
        font-size: ~'min(2.31vw, .7em)';
        /* using ems so we can use font size to scale the whole section */
        width: (631/16em);
        height: (636/16em);
        position: relative;
      }

      .cs-picture {
        border-radius: (24/16em);
        display: block;
        position: absolute;
        /* clips img tag corners */
        overflow: hidden;
        img {
          width: 100%;
          height: 100%;
          /* makes image act like a background image */
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-picture1 {
        width: (522/16em);
        height: (581/16em);
        top: 0;
        left: 0;
      }

      .cs-picture2 {
        width: (414/16em);
        height: (400/16em);
        background-color: #fff;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 40px;
        /* 6px - 12px */
        border: clamp(0.375em, 1.5vw, 0.75em) solid #fff;
        right: 0;
        bottom: 0;
      }

      .cs-right {
        max-width: (542/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: left;
        margin-bottom: (4/16rem);
      }

      .cs-title {
        text-align: left;
        max-width: (800/16rem);
      }

      .cs-text {
        text-align: left;
        max-width: (750/16rem);
        margin-bottom: (16/16rem);
        color: var(--bodyTextColor);

        &:last-of-type {
          margin-bottom: (32/16rem);
        }
      }

      .cs-flex-group {
        /* 16px - 32px */
        padding: clamp(1rem, 3vw, 2rem);
        background-color: #f7f7f7;
        border-radius: (16/16rem);
        position: relative;
      }

      .cs-flex-p {
        /* 14px - 16px */
        font-size: clamp(0.875rem, 1.5vw, 1rem);
        line-height: 1.5em;
        margin: 0 0 (16/16rem);
        color: #353535;
      }

      .cs-name {
        font-size: (16/16rem);
        font-weight: bold;
        line-height: 1.2em;
        text-transform: uppercase;
        margin: 0 0 (4/16rem);
        color: var(--headerColor);
        display: block;
      }

      .cs-job {
        font-size: (14/16rem);
        line-height: 1.5em;
        color: #353535;
        display: block;
      }

      .cs-quote-icon {
        /* 60px - 136px */
        width: clamp(3.75rem, 10vw, 8.5rem);
        height: auto;
        position: absolute;
        /* 16px - 32px */
        right: clamp(1rem, 4vw, 2rem);
        bottom: (0/16rem);
      }

      .cs-button-solid {
        margin-top: (32/16rem);
      }
    }
  }

  /* Desktop - 1024px */
  @media only screen and (min-width: 64em) {
    #sbs {
      .cs-container {
        flex-flow: row;
        justify-content: space-between;
        gap: (52/16rem);
      }

      .cs-left {
        font-size: ~'min(1.2vw, 1em)';
        flex: none;
      }

      .cs-right {
        margin: 0;
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #sbs {
        .cs-left {
          &:before,
          &:after {
            background: var(--accent);
          }
        }

        .cs-picture2 {
          background-color: var(--dark);
          /* 6px - 12px */
          border: clamp(0.375em, 1.5vw, 0.75em) solid var(--dark);
        }

        .cs-topper {
          color: var(--primaryLight);
        }

        .cs-title,
        .cs-text,
        .cs-h3,
        .cs-flex-p,
        .cs-name {
          color: var(--bodyTextColorWhite);
        }

        .cs-flex-group {
          background-color: var(--accent);
        }

        .cs-job {
          color: var(--bodyTextColorWhite);
          opacity: 0.8;
        }

        .cs-quote-icon {
          opacity: 0.2;
        }
      }
    }
  }
</style>
