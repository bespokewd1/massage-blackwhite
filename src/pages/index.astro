---
import BaseLayout from 'src/layouts/BaseLayout.astro';
import CTA from '@components/CTA.astro';
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';
import '@styles/blog.less';

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import { getOptimizedImage } from '@js/utils';
import aboutImage1 from '@assets/images/Services-2.DeepTissueMassage.jpg';
import aboutImage2 from '@assets/images/Services-5.HotStoneMassage.jpg';
import serviceImg5 from '@assets/images/stone-massage-background1.png';

import heroImg from '@assets/images/hero-img.jpg';
import landingImage from '@assets/images/landing.jpg'; // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import FacebookIcon from '@components/Icons/Socials/FacebookIcon.astro';
import InstagramIcon from '@components/Icons/Socials/InstagramIcon.astro';
import LinkedInIcon from '@components/Icons/Socials/LinkedInIcon.astro';
import TwitterIcon from '@components/Icons/Socials/TwitterIcon.astro';
import WhyChooseUs from '@components/why-choose-us.astro';

const optimizedImage = await getOptimizedImage(landingImage);

const posts = await getCollection('blog');
posts.sort(
  (a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf()
);
---

<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
/>
<BaseLayout preloadedImage={optimizedImage}>
  <!-- ============================================ -->
  <!--                    Hero                      -->
  <!-- ============================================ -->

  <section id="hero" class="bg-orange-50 px-0">
    <div class="mx-auto grid grid-cols-2 items-stretch gap-0">
      <!-- left: text block on light card -->
      <div
        class="relative flex items-center justify-center px-6 py-12 col-span-2 md:col-span-1"
      >
        <div class="w-full max-w-xl">
          <div class="p-8 md:p-10">
            <!-- Topper (optional) -->
            <!-- <span class="block text-sm font-semibold tracking-wide text-gray-600">
              Hot Stone Massage - Edmonton
            </span> -->

            <!-- Big serif headline -->
            <h1
              class="font-serif text-left text-3xl leading-tight text-gray-950 md:text-4xl lg:text-5xl"
            >
              Restore, Rejuvenate,
              <br class="hidden sm:block" />
              and Feel Your Best
            </h1>

            <!-- Supporting paragraph -->
            <p class="mt-6 text-base leading-7 text-gray-700 text-left">
              Personalized therapeutic massage in Edmonton—deep tissue, Swedish,
              and hot stone treatments designed to relieve pain, calm the mind,
              and enhance everyday performance.
            </p>

            <!-- CTAs -->
            <div class="mt-8 flex flex-wrap gap-4">
              <a
                href="#"
                class="inline-flex items-center justify-center rounded-full border-2 border-emerald-200 bg-emerald-200 px-6 py-3 text-sm font-semibold text-gray-950 transition-colors active:border-transparent hover:bg-emerald-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600"
              >
                Book Appointment
              </a>
            </div>
          </div>
        </div>
      </div>

            <!-- right: edge-to-edge image -->
      <div class="relative md:col-span-1 col-span-2">
        <!-- <Picture
          src={heroImg}
          alt="lady in a stone massage"
          formats={['avif', 'webp']}
          pictureAttributes={{
            class:
              'block aspect-video w-full object-cover lg:h-full lg:min-h-[770px]',
          }}
          loading="eager"
        /> -->

        <Image
          loading={'eager'}
          src={heroImg}
          class="block aspect-video w-full object-cover h-full lg:min-h-[550px]"
          alt="lady in a stone massage"
        />
      </div>
    </div>

    <!-- second content -->
    <div class="mx-auto mt-4 grid grid-cols-4 items-stretch gap-0 relative">
      <!-- Left: edge-to-edge image -->
      <div class="relative col-span-5 xl:col-start-2 xl:col-end-4">
        <Image
          src={aboutImage2}
          class="block aspect-square w-full object-cover lg:h-full mx-auto xl:ms-0 max-w-[600px]"
          alt="lady in a stone massage"
        />
      </div>

      <!-- Right: text block on light card -->
      <div
        class="xl:absolute relative inset-0 col-span-5 xl:col-start-3 xl:col-end-4 flex items-center justify-center md:px-6 py-12"
      >
        <div
          class="w-full max-w-[680px] rounded-xl bg-orange-200 shadow-[0_10px_25px_rgba(0,0,0,0.15)] ring-1 ring-black/10"
        >
          <div class="p-6 sm:p-8 md:p-10">
            <h3
              class="font-serif text-2xl sm:text-3xl md:text-4xl leading-snug text-gray-950"
            >
              Welcome to iMassage Therapeutic Clinique
            </h3>

            <p class="mt-5 text-gray-700 leading-7">
              At iMassage Therapeutic Clinique, we focus on restorative,
              evidence‑based massage care tailored to your body’s needs. From
              deep tissue and hot stone to relaxation-focused treatments, our
              goal is to reduce pain, release tension, and renew your overall
              well‑being.
            </p>

            <div class="mt-8">
              <a
                href="/about"
                class="inline-flex items-center rounded-full border-2 border-gray-900 px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-orange-100 transition"
              >
                Learn More
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= CTA (Green band) ================ -->
  <CTA
    title="Restore Balance. Feel Renewed"
    description="Expert therapeutic massage tailored to your needs."
  />

  <!-- ================= Services ================= -->
  <section class="bg-orange-50">
    <!-- Intro -->
    <div class="mx-auto max-w-6xl px-6 py-16 lg:py-20">
      <div class="mx-auto max-w-3xl text-center">
        <h2 class="font-serif text-3xl md:text-4xl text-gray-950">
          Our Services
        </h2>
        <p class="mt-4 text-gray-700 leading-7">
          From deep tissue and hot stone to relaxing Swedish massage, each
          session at iMassage Therapeutic Clinique is customized to your
          goals—reducing pain, improving mobility, and helping you feel your
          best.
        </p>
      </div>
    </div>

    <!-- Image row with overlay card on orange-200 -->
    <div class="mx-auto max-w-7xl px-0">
      <div class="grid grid-cols-1 md:grid-cols-12 items-stretch">
        <!-- Left image -->
        <div class="md:col-span-6">
          <Image
            src={aboutImage1}
            alt="lady in a stone massage"
            class="block aspect-[16/10] w-full object-cover md:aspect-auto md:h-[420px]"
          />
        </div>

        <!-- Middle card on orange-200 -->
        <div
          class="bg-orange-200 md:col-span-6 flex items-center justify-center px-6 py-10"
        >
          <div class="w-full max-w-xl text-center md:text-left">
            <h3 class="text-gray-900 font-semibold tracking-wide">
              Therapeutic Deep-Tissue / Relaxation Massage
            </h3>
            <p class="mt-4 text-gray-700 leading-7">
              Target chronic tension and restore ease of movement with focused
              deep‑tissue work—balanced with soothing relaxation techniques for
              a calm, refreshed body and mind.
            </p>
            <div class="mt-6">
              <a
                href="/services"
                class="inline-flex items-center rounded-full border-2 border-gray-900 px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-orange-100 transition"
              >
                View Services
              </a>
            </div>
          </div>
        </div>

        <!-- Right image (stretches full width on small, aligns in grid on md+) -->
        <div class="md:col-span-12">
          <div class="grid grid-cols-1 md:grid-cols-12">
            <div class="md:col-span-6 order-2 md:order-1">
              <div
                class="bg-orange-200 w-full h-full flex items-center justify-center px-6 py-10"
              >
                <div class="w-full max-w-xl text-center md:text-left">
                  <h3 class="text-gray-900 font-semibold tracking-wide">
                    Therapeutic Hot Stone Massage
                  </h3>
                  <p class="mt-4 text-gray-700 leading-7">
                    Sink into deeper relaxation with heated basalt stones that
                    gently melt muscular tension, boost circulation, and promote
                    overall well‑being.
                  </p>
                  <div class="mt-6">
                    <a
                      href="/services"
                      class="inline-flex items-center rounded-full border-2 border-gray-900 px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-orange-100 transition"
                    >
                      Learn More
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="md:col-span-6 order-1 md:order-2">
              <Image
                src={serviceImg5}
                alt="lady in a stone massage"
                class="block aspect-[16/10] w-full object-cover md:aspect-auto md:h-[420px]"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
<!--                  Services                    -->
<!-- ============================================ -->

<section id="services-1628">
    <div class="cs-container">
        <div class="cs-content">
            <div class="cs-flex">
                <span class="cs-topper">Our Services</span>
                <h2 class="cs-title">Unwind With Our Massage Services</h2>
            </div>
            <p class="cs-text">
                From deep tissue and hot stone to relaxing Swedish massage, each session at iMassage Therapeutic Clinique is customized to your goals—reducing pain, improving mobility, and helping you feel your best.
            </p>
        </div>                  
        <ul class="cs-card-group">
            <li class="cs-item">
                <a href="/services" class="cs-link">
                    <picture class="cs-picture">
                        <!--Mobile Image-->
                        <source media="(max-width: 600px)" srcset="/assets/images/Services-2.DeepTissueMassage.jpg">
                        <!--Tablet and above Image-->
                        <source media="(min-width: 601px)" srcset="/assets/images/Services-2.DeepTissueMassage.jpg">
                        <img loading="lazy" decoding="async" src="/assets/images/Services-2.DeepTissueMassage.jpg" alt="room" width="413" height="420">
                    </picture>
                    <h3 class="cs-h3">Therapeutic Deep-Tissue / Relaxation Massage</h3>
                    <p class="cs-item-text">
                        Target chronic tension and restore ease of movement with focused deep‑tissue work—balanced with soothing relaxation techniques for a calm, refreshed body and mind.
                    </p>
                    <span class="cs-fake-link">
                        View Services
                        <img class="cs-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/Icons/gold-chevron-right.svg" alt="" width="20" height="20" loading="lazy" decoding="async" aria-hidden="true">
                    </span>
                </a>
            </li>
            <li class="cs-item">
                <a href="/services" class="cs-link">
                    <picture class="cs-picture">
                        <!--Mobile Image-->
                        <source media="(max-width: 600px)" srcset="/assets/images/stone-massage-background1.png">
                        <!--Tablet and above Image-->
                        <source media="(min-width: 601px)" srcset="/assets/images/stone-massage-background1.png">
                        <img loading="lazy" decoding="async" src="/assets/images/stone-massage-background1.png" alt="room" width="413" height="420">
                    </picture>
                    <h3 class="cs-h3">Therapeutic Hot Stone Massage</h3>
                    <p class="cs-item-text">
                        Sink into deeper relaxation with heated basalt stones that gently melt muscular tension, boost circulation, and promote overall well‑being.
                    </p>
                    <span class="cs-fake-link">
                        View Services
                        <img class="cs-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/Icons/gold-chevron-right.svg" alt="" width="20" height="20" loading="lazy" decoding="async" aria-hidden="true">
                    </span>
                </a>
            </li>
        </ul>
    </div>
</section>
                                

  <!-- ================= Why Choose Us ================= -->
  <WhyChooseUs />

  <!-- ================= How to Book (Steps) ================= -->
  <section class="bg-orange-50">
    <div class="mx-auto max-w-6xl px-6 py-16 md:py-20">
      <h2 class="font-serif text-center text-3xl md:text-4xl text-gray-950">
        Booking Made Simple
      </h2>

      <!-- Steps -->
      <div
        class="mt-10 grid grid-cols-1 gap-6 md:mt-12 md:grid-cols-3 md:gap-8"
      >
        <!-- Step 1 -->
        <div
          class="rounded-lg bg-orange-200/90 px-8 py-10 text-center shadow-sm ring-1 ring-black/5"
        >
          <div class="font-serif text-6xl text-gray-900">1</div>
          <h3 class="mt-4 font-serif text-3xl text-gray-900">
            Find Your Treatment
          </h3>
          <p class="mt-3 text-gray-700 leading-7">
            Deep tissue, hot stone, Swedish—choose the care your body needs.
          </p>
        </div>

        <!-- Step 2 -->
        <div
          class="rounded-lg bg-orange-200/90 px-8 py-10 text-center shadow-sm ring-1 ring-black/5"
        >
          <div class="font-serif text-6xl text-gray-900">2</div>
          <h3 class="mt-4 font-serif text-3xl text-gray-900">
            Schedule in Minutes
          </h3>
          <p class="mt-3 text-gray-700 leading-7">
            Pick the date and time that works best for you.
          </p>
        </div>

        <!-- Step 3 -->
        <div
          class="rounded-lg bg-orange-200/90 px-8 py-10 text-center shadow-sm ring-1 ring-black/5"
        >
          <div class="font-serif text-6xl text-gray-900">3</div>
          <h3 class="mt-4 font-serif text-3xl text-gray-900">
            Confirm & Enjoy
          </h3>
          <p class="mt-3 text-gray-700 leading-7">
            Secure your spot and let us take care of the rest.
          </p>
        </div>
      </div>

      <!-- Direct billing + CTA -->
      <div class="mt-10 text-center">
        <p class="font-serif text-lg text-gray-900">Direct Billing Available</p>
        <p class="mt-1 text-gray-700">Check with us for accepted providers.</p>

        <a
          href="/direct-billing"
          class="mt-6 inline-flex items-center rounded-full bg-emerald-200 px-6 py-3 text-sm font-semibold text-emerald-950 transition-colors hover:text-emerald-900 hover:bg-emerald-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500"
        >
          Book Appointment
        </a>
      </div>
    </div>
  </section>

  <!-- ================= Contact / Get in Touch ================= -->
  <section id="contact" class="bg-orange-50">
    <!-- max-w-7xl  -->
    <div class="mx-auto grid grid-cols-1 lg:grid-cols-12">
      <!-- Left: Info panel (green) -->
      <div
        class="lg:col-span-4 bg-emerald-200 text-emerald-50 px-8 py-12 md:px-12 md:py-16 flex flex-col justify-center items-center"
      >
        <div class="mt-8 space-y-5 text-emerald-100">
          <h2 class="font-serif text-3xl text-emerald-950 md:text-4xl">
            Get in Touch
          </h2>

          <div class="space-y-3">
            <p class="text-lg">iMassage Therapeutic Clinique</p>
            <p>
              10121 150 Street NW<br />
              Edmonton, Alberta T5P 1P2
            </p>
            <p>
              780‑919‑1633<br />
              info@imassageclinique.ca
            </p>
            <p>Mon–Sun: 9:00 AM – 9:00 PM</p>
            <p>
              Direct Billing Available. Please ask about eligible providers.
            </p>
          </div>

          <!-- Socials -->
          <div class="mt-8 flex items-center gap-4 text-emerald-50/90">
            <a href="#" aria-label="Facebook" class="hover:text-white">
              <FacebookIcon class:list={['text-emerald-950']} />
            </a>
            <a href="#" aria-label="Instagram" class="hover:text-white">
              <InstagramIcon class:list={['text-emerald-950']} />
            </a>
            <a href="#" aria-label="LinkedIn" class="hover:text-white">
              <LinkedInIcon class:list={['text-emerald-950']} />
            </a>
            <a href="#" aria-label="LinkedIn" class="hover:text-white">
              <TwitterIcon class:list={['text-emerald-950']} />
            </a>
          </div>
        </div>
      </div>

      <!-- Right: Form -->
      <div class="lg:col-span-8 bg-orange-50 px-8 py-12 md:px-12 md:py-16">
        <form class="max-w-2xl mx-auto">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
            <div>
              <label class="block text-sm text-gray-700 mb-2">First Name</label>
              <input
                type="text"
                class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                placeholder="First name"
              />
            </div>
            <div>
              <label class="block text-sm text-gray-700 mb-2">Last Name</label>
              <input
                type="text"
                class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                placeholder="Last name"
              />
            </div>
          </div>

          <div class="mt-5">
            <label class="block text-sm text-gray-700 mb-2">Email *</label>
            <input
              type="email"
              required
              class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-emerald-500"
              placeholder="you@example.com"
            />
          </div>

          <div class="mt-5">
            <label class="block text-sm text-gray-700 mb-2">Message</label>
            <textarea
              rows="5"
              class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-emerald-500"
              placeholder="How can we help?"></textarea>
          </div>

          <button
            type="submit"
            class="mt-6 w-full md:w-auto rounded bg-emerald-200 px-8 py-3 text-emerald-950 font-semibold transition-colors hover:text-emerald-900 hover:bg-emerald-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"
          >
            Send
          </button>
        </form>
      </div>
    </div>
  </section>
</BaseLayout>

<style lang="less">
  /* Add smooth scrolling to the entire HTML document */
  html {
    scroll-behavior: smooth;
  }

  /*-- -------------------------- -->
<---          Services          -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #services-1628 {
        padding: var(--sectionPadding);
        background-color: #f7f7f7;
        
        .cs-container {
            width: 100%;
            /* changes to 1280px at tablet */
            max-width: (550/16em);
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-content {
            /* set text align to left if content needs to be left aligned */
            text-align: left;
            width: 100%;
            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: flex-start;
        }
    
        .cs-title {
            max-width: 20ch;
        }

        .cs-text {
            max-width: (640/16rem);
            position: relative;
            z-index: 1;

            &:after {
                /* divider line */
                content: "";
                width: 100%;
                height: 1px;
                margin-top: (24/16rem);
                background: var(--primary);
                opacity: 1;
                display: block;
                position: relative;
            }
        }

        .cs-chevron {
            --chevronColor: var(--primary);

            width: (48/16rem);
            height: auto;
        }

        .cs-card-group {
            width: 100%;
            margin: 0;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            /* 16px - 20px */
            column-gap: clamp(1rem, 2.5vw, 1.25rem);
            /* 28px - 40px */
            row-gap: clamp(1.75rem, 2.5vw, 2.5rem);
        }
        
        .cs-item {
            list-style: none;
            width: 100%;
            display: flex;
            grid-column: span 12;
            flex-direction: column;
            align-items: flex-start;

            &:hover {
                .cs-picture {
                    img {
                        opacity: .5;
                        transform: scale(1.2);
                    }
                }
            }
        }

        .cs-link {
            text-decoration: none;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .cs-picture {
            width: 100%;
            height: (240/16rem);
            margin-bottom: (24/16rem);
            background-color: #000;
            overflow: hidden;
            display: block;
            position: relative;
            border-radius: 3rem 3rem 0 0;

            img {
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 100%;
                object-fit: cover;
                transition: transform .6s, opacity .3s;
            }
        }

        .cs-h3 {
            font-size: (20/16rem);
            line-height: 1.2em;
            font-weight: 700;
            text-align: left;
            margin: 0 0 (12/16rem) 0;
            color: var(--headerColor);
        }

        .cs-item-text {
            font-size: (16/16rem);
            line-height: 1.5em;
            text-align: left;
            margin: 0 0 (24/16rem) 0;
            color: var(--bodyTextColor);
        }

        .cs-fake-link {
            font-size: (16/16rem);
            line-height: 1.2em;
            font-weight: 700;
            margin: 0;
            margin-top: auto;
            color: var(--primary);
            display: inline-flex;
            justify-content: flex-start;
            align-items: center;
            gap: (8/16rem);

            &:hover {
                .cs-icon {
                    transform: translateX(.5rem);
                }
            }
        }

        .cs-icon {
            width: (20/16rem);
            height: auto;
            display: block;
            transition: transform .3s;
        }
    }
}

/* Tablet - 768px */
@media only screen and (min-width: 48rem) {
    #services-1628 {
        .cs-container {
            max-width: (1280/16rem);
        }

        .cs-content {
            flex-direction: row;
            justify-content: center;
            align-items: center;
        }

        .cs-flex {
            text-align: left;
            width: 40vw;
            max-width: (640/16rem);
            flex: none;
        }

        .cs-title {
            margin: 0;
        }

        .cs-text {
            padding: (12/16rem) 0 (12/16rem) (24/16rem);

            &:after {
                width: 1px;
                height: 100%;
                margin: 0 (24/16rem) 0 0;
                order: -1;
                position: absolute;
                left: 0;
                top: 0;
            }
        }

        .cs-item {
            grid-column: span 6;
        }

        .cs-picture {
            /* 240px - 420px */
            height: clamp(15rem, 33vw, 26.25rem);
        }
    }
}

/* Large Desktop - 1300px */
@media only screen and (min-width: 81.25rem) {
    #services-1628 {
        .cs-item {
            grid-column: span 6;
        }
    }
}
                                
</style>
